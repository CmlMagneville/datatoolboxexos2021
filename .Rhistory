library(rrtools)
rrtools::use_compendium("../datatoolboxexos2021/, open = FALSE")
rrtools::use_compendium("../datatoolboxexos2021/", open = FALSE)
library(usethis)
usethis::use_r("data_wildfinder")
library("readr")
library("here")
here::here("data","wwf-wildfinder", "wildfinder-mammals_list.csv")
readr::read_csv(
here::here("data", "wwf-wildfinder", "wildfinder-mammals_list.csv")
)
data.sp.list <- function() {
# give the relative path to the data and read it:
readr::read_csv(
here::here("data", "wwf-wildfinder", "wildfinder-mammals_list.csv")
)
}
data.sp.list()
data.sp.list <- function() {
# give the relative path to the data and read it:
data <- readr::read_csv(
here::here("data", "wwf-wildfinder", "wildfinder-mammals_list.csv")
)
return(data)
}
data.sp.list()
data.eco.list <- function() {
# give the relative path to the data and read it:
data <- readr::read_csv(
here::here("data", "wwf-wildfinder", "wildfinder-ecoregions_list.csv")
)
return(data)
}
data.eco.list()
data.sp.eco.list <- function() {
# give the relative path to the data and read it:
data <- readr::read_csv(
here::here("data", "wwf-wildfinder", "wildfinder-ecoregions_species.csv")
)
return(data)
}
data.sp.eco.list()
usethis::use_package("readr")
usethis::use_package("here")
rrtools::use_readme_rmd()
devtools::install_deps()
devtools::document()
rm(list = c("data.eco.list", "data.sp.eco.list", "data.sp.list"))
devtools::document()
devtools::load_all()
data.eco.list()
devtools::load_all()
?data.sp.eco.list
# creer les deux nouveaux repertoires:
dir.create('outputs')
dir.create('exercices')
# creer un nouveau script R pour les analyses du premier exercice:
file.create("exercices/exo_dplyr.R")
# Load sp-eco data:
data <- data.sp.eco.list()
# Look at the head of data:
head(data)
#
table(data$ecoregion_id)
# Look at the repartition of species in each ecoregions:
mam_per_eco <- table(data$ecoregion_id)
# Plot the histogram:
hist(mam_per_eco, breaks = 50)
# Save the histogram in a .png file
png(filename = here::here("outputs", "exo_dplyr_hist_mams"))
# Close the plot so that clean the plot panel:
dev.off()
# Save the histogram in a .png file:
png(filename = here::here("outputs", "exo_dplyr_hist_mams.png"))
# 11 - Creer un fichier make.R a la racine qui permet de mettre en place tout le workflow:
file.create("make.R")
# Install dependencies:
devtools::install_deps()
# Load the functions so make them available for use:
# devtools::load_all() or source("R/data_wildfinder.R")
# devtools::load_all() does not work while using targets so use the second option:
source("R/data_wildfinder.R")
# To remove a file:
unlink(here::here("outputs", "exo_dplyr_hist_mams.png"))
# To remove a file:
unlink(here::here("outputs", "exo_dplyr_hist_mams.png"))
# To remove a file:
unlink("outputs/exo_dplyr_hist_mams.png")
# Run the script for the exercice dplyr:
source(here::here("exercices", "exo_dplyr.R"))
# To remove a file:
unlink("outputs/exo_dplyr_hist_mams.png")
# Run the script for the exercice dplyr:
source(here::here("exercices", "exo_dplyr.R"))
# To remove a file:
unlink(here::here("outputs", "exo_dplyr_hist_mams.png"))
# To remove a file:
unlink("outputs/exo_dplyr_hist_mams.png")
getwd()
# To remove a file:
unlink("outputs/exo_dplyr_hist_mams.png")
# To remove a file:
unlink("outputs/exo_dplyr_hist_mams.png")
# To remove a file:
unlink("outputs/exo_dplyr_hist_mams.png", force = TRUE)
# To remove a file:
file.remove("outputs/exo_dplyr_hist_mams.png")
# Install dependencies:
devtools::install_deps()
# Load the functions so make them available for use:
# devtools::load_all() or source("R/data_wildfinder.R")
# devtools::load_all() does not work while using targets so use the second option:
source(here::here("R", "data_wildfinder.R"))
# Run the script for the exercice dplyr:
source(here::here("exercices", "exo_dplyr.R"))
